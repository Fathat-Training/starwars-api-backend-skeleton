<!doctype html>
<html>
 <head> 
  <title>IntelliJ Markdown Preview</title>           
  <style>/* Reworked by IntelliJ Team The MIT License (MIT) Copyright (c) JetBrains Adapted from https://github.com/sindresorhus/github-markdown-css The MIT License (MIT) Copyright (c) Sindre Sorhus &lt;sindresorhus@gmail.com&gt; (sindresorhus.com) Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. */ @font-face { font-family: octicons-anchor; src: url(data:font/woff;charset=utf-8;base64,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) format('woff'); } body { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; font-family: Helvetica, Arial, freesans, sans-serif; font-size: 14px; line-height: 1.6; word-wrap: break-word; margin: 0 2em; } strong { font-weight: bold; } img { border: 0; } input { color: inherit; font: inherit; margin: 0; line-height: normal; } html input[disabled] { cursor: default; } input[type="checkbox"] { box-sizing: border-box; padding: 0; } body * { box-sizing: border-box; } input { font: 13px/1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; } a { text-decoration: none; } a:hover, a:active { text-decoration: underline; } hr { height: 1px; padding: 0; margin: 20px 0; border: 0 none; } hr:before { display: table; content: ""; } hr:after { display: table; clear: both; content: ""; } blockquote { margin: 0; } ul, ol { padding: 0; margin-top: 0; margin-bottom: 0; } ol ol, ul ol { list-style-type: lower-roman; } ul ul ol, ul ol ol, ol ul ol, ol ol ol { list-style-type: lower-alpha; } dd { margin-left: 0; } .octicon { font: normal normal normal 16px/1 octicons-anchor; display: inline-block; text-decoration: none; text-rendering: auto; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } .octicon-link:before { content: '\f05c'; } .markdown-body &gt; *:first-child { margin-top: 0 !important; } .markdown-body &gt; *:last-child { margin-bottom: 0 !important; } .anchor { position: absolute; top: 0; left: 0; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; } .anchor:focus { outline: none; } h1, h2, h3, h4, h5, h6 { position: relative; margin-top: 1em; margin-bottom: 16px; font-weight: bold; line-height: 1.4; } h1 .octicon-link, h2 .octicon-link, h3 .octicon-link, h4 .octicon-link, h5 .octicon-link, h6 .octicon-link { display: none; color: #000; vertical-align: middle; } h1:hover .anchor, h2:hover .anchor, h3:hover .anchor, h4:hover .anchor, h5:hover .anchor, h6:hover .anchor { padding-left: 8px; margin-left: -30px; text-decoration: none; } h1:hover .anchor .octicon-link, h2:hover .anchor .octicon-link, h3:hover .anchor .octicon-link, h4:hover .anchor .octicon-link, h5:hover .anchor .octicon-link, h6:hover .anchor .octicon-link { display: inline-block; } h1 { font-size: 2.2em; padding-top: 0.6em; } h1 .anchor { line-height: 1; } h2 { font-size: 1.8em; line-height: 1.2; padding-top: 0.6em; } h2 .anchor { line-height: 1.2; } h3 { font-size: 1.3em; line-height: 1; padding-top: 0.6em; } h3 .anchor { line-height: 1.2; } h4 { font-size: 1em; } h4 .anchor { line-height: 1.2; } h5 { font-size: 1em; } h5 .anchor { line-height: 1.1; } h6 { font-size: 1em; } h6 .anchor { line-height: 1.1; } p, blockquote, ul, ol, dl, table, pre { margin-top: 16px; margin-bottom: 16px; } ul, ol { padding-left: 2em; } ul ul, ul ol, ol ol, ol ul { margin-top: 0; margin-bottom: 0; } li &gt; p { margin-top: 0; margin-bottom: 0; } dl { padding: 0; } dl dt { padding: 0; margin-top: 16px; font-size: 1em; font-style: italic; font-weight: bold; } dl dd { padding: 0 16px; margin-bottom: 16px; } blockquote { padding: 10px 10px 10px 16px; border-left: 2px solid; border-radius: 0 3px 3px 0; } blockquote &gt; :first-child { margin-top: 0; } blockquote &gt; :last-child { margin-bottom: 0; } table { display: block; width: 100%; overflow: auto; word-break: normal; border-collapse: collapse; border-spacing: 0; font-size: 1em; } table th { font-weight: bold; } table th, table td { padding: 6px 13px; background: transparent; } table tr { border-top: 1px solid; } img { max-width: 100%; box-sizing: border-box; } code { font: 0.9em "JetBrains Mono", Consolas, "Liberation Mono", Menlo, Courier, monospace; padding: 0.2em 0.4em; margin: 2px; border-radius: 3px; } pre &gt; code { padding: 0; margin: 0; font-size: 100%; word-break: normal; white-space: pre; background: transparent; border: 0; } .highlight { margin-bottom: 16px; } .highlight pre, pre { font: 0.85em "JetBrains Mono", Consolas, "Liberation Mono", Menlo, Courier, monospace; padding: 16px; overflow: auto; line-height: 1.45; border-radius: 3px; } pre code { display: inline; max-width: initial; padding: 0; margin: 0; overflow: initial; line-height: inherit; word-wrap: normal; background-color: transparent; border: 0; } pre code:before, pre code:after { content: normal; } kbd { font: 0.9em "JetBrains Mono", Consolas, "Liberation Mono", Menlo, Courier, monospace; padding: 0.2em 0.4em; margin: 2px; border-radius: 3px; } .task-list-item { list-style-type: none; } .task-list-item + .task-list-item { margin-top: 3px; } .task-list-item input { margin: 0 0.35em 0.25em -0.6em; vertical-align: middle; } :checked + .radio-label { z-index: 1; position: relative; } span.user-del { text-decoration: line-through; } ::-webkit-scrollbar { width: 6px; height: 6px; } ::-webkit-scrollbar-thumb { -webkit-border-radius: 10px; } ::-webkit-scrollbar-track:vertical { -webkit-box-shadow: -1px 0 0 #ededed; } ::-webkit-scrollbar-track { background-color: transparent; } ::-webkit-scrollbar { width: 6px; } </style>
  <style>body { background-color: rgba(43, 43, 43, 255.0); font-size: 14px !important; } body, p, blockquote, ul, ol, dl, table, pre, code, tr { color: rgba(169, 183, 198, 255.0); } a { color: rgba(88, 157, 246, 255.0); } table td, table th { border: 1px solid rgba(81, 81, 81, 255.0); } hr { background-color: rgba(81, 81, 81, 255.0); } kbd, tr { border: 1px solid rgba(81, 81, 81, 255.0); } h6 { color: rgba(120, 120, 120, 255.0); } blockquote { border-left: 2px solid rgba(88, 157, 246, 0.4); } ::-webkit-scrollbar-thumb { background-color: rgba(128, 128, 128, 0.34901960784313724); } blockquote, code, pre { background-color: rgba(212, 222, 231, 0.09803921568627451); }</style>
    <link rel="stylesheet" href="fathat.css" /><script type="text/javascript" src="fathat.js"></script>
 </head>
 <body>
  <div md-src-pos="0..11325">
   <h1 md-src-pos="0..31">starwars-api-backend-skeleton</h1>
   <hr>
   <h3 md-src-pos="38..72">Backend API Learning Workflow:</h3>
   <hr>
   <h3 md-src-pos="78..90">Testing:</h3>
   <p md-src-pos="92..300"><span md-src-pos="92..135">When we write code we need to check that it</span>'<span md-src-pos="136..146">s correct,</span> <span md-src-pos="147..210">it does what it is supposed to do and handles cases when it can</span>'<span md-src-pos="211..213">t.</span> <span md-src-pos="214..251">In order to do this we test our code.</span> <span md-src-pos="252..295">There are many techniques for testing code.</span> <span md-src-pos="296..300">Here</span></p>
   <ol md-src-pos="302..574">
    <li md-src-pos="302..403">Write a bunch of calls to various functions that will test each part of the code you have written.</li>
    <li md-src-pos="404..478">Use Python Unittests or other testing framework to write and run tests.</li>
    <li md-src-pos="479..574">Use people or an automated system such as Jenkins to automatically run tests on your system.</li>
   </ol>
   <p md-src-pos="576..679"><span md-src-pos="576..679">In this project we shall develop a set of unittests for various parts of the code we have put in place.</span></p>
   <p md-src-pos="681..797"><span md-src-pos="681..697">Before we start,</span> <span md-src-pos="698..797">there are a few issues to discuss regarding testing both APIs and anything that touches a database.</span></p>
   <p md-src-pos="799..1085"><span md-src-pos="799..881">Testing APIs is not as straight forward as simply testing the odd function or two.</span> <span md-src-pos="882..921">You have to test the API Specification,</span> <span md-src-pos="922..976">the http interface between that and the APi endpoints.</span> <span md-src-pos="977..989">In our case,</span> <span md-src-pos="990..1056">we also have a data access layer which in the user module and this</span> <span md-src-pos="1057..1084">touches the MySQL database.</span></p>
   <p md-src-pos="1087..1890"><span md-src-pos="1087..1148">Fortunately in our case our API Specification is validated by</span> '<span md-src-pos="1150..1159">Connexion</span>' <span md-src-pos="1161..1216">and all the handling of our http requests and responses</span> <span md-src-pos="1217..1278">between the API Specification and endpoints is taken care of.</span> <span md-src-pos="1279..1287">However,</span> <span md-src-pos="1288..1355">connexion will not validate or test our endpoint code or indeed our</span> <span md-src-pos="1357..1376">data access layers.</span> <span md-src-pos="1377..1388">Regardless,</span> <span md-src-pos="1389..1494">we can test the whole flow from request to response of each of our endpoints manually via the Swagger UI.</span> <span md-src-pos="1495..1515">This is cool because</span> <span md-src-pos="1516..1633">it allows anyone outside the immediate tech team to try out the API calls without any knowledge if the internal tech.</span> <span md-src-pos="1634..1711">Having this UI for both documenting the API and testing it is very useful for</span> <span md-src-pos="1712..1763">providing access to an API for different user bases</span> (<span md-src-pos="1765..1833">All those non-tech people out there that may want to use the service</span>)<span md-src-pos="1834..1835">.</span> <span md-src-pos="1836..1840">But,</span> <span md-src-pos="1841..1872">as far as testing is concerned,</span> <span md-src-pos="1873..1890">it is not enough.</span></p>
   <p md-src-pos="1892..2276"><span md-src-pos="1892..1968">Ideally we would create a bunch of tests which use something called Mocking.</span> <span md-src-pos="1969..2027">Mocking is a form of introducing artificial code and data,</span> <span md-src-pos="2028..2032">i.e.</span> <span md-src-pos="2033..2087">Mocking an API call and access to the database without</span> <span md-src-pos="2088..2156">actually calling the actual API call and touching the real database.</span> <span md-src-pos="2157..2222">The deal is not to have to deal with external links in the chain,</span> <span md-src-pos="2223..2276">just the code that handles any of those dependencies.</span></p>
   <p md-src-pos="2278..2570"><span md-src-pos="2278..2295">For this project,</span> <span md-src-pos="2296..2414">we will avoid getting into complete endpoint to data access layer testing but will test some of our utility functions,</span> <span md-src-pos="2415..2441">our starwars.py code which</span> <span md-src-pos="2442..2505">calls the external Star Wars API and our authentication module.</span> <span md-src-pos="2507..2570">We will achieve this by developing some basic python unittests.</span></p>
   <p md-src-pos="2572..2607"><span md-src-pos="2572..2575">Let</span>'<span md-src-pos="2576..2606">s start with our utils.py file</span>:</p>
   <h3 md-src-pos="2609..2629">Testing Utils.py</h3>
   <p md-src-pos="2631..2783"><span md-src-pos="2631..2705">In this file we have a few functions that we are going to write tests for.</span> <span md-src-pos="2706..2783">The test_utils.py file in the root of the project is currently an empty file.</span></p>
   <blockquote md-src-pos="2785..2800">
    <p md-src-pos="2786..2800"><span md-src-pos="2786..2800">Open that file</span></p>
   </blockquote>
   <blockquote md-src-pos="2802..2844">
    <p md-src-pos="2803..2844"><span md-src-pos="2803..2843">Copy the following imports into the file</span>:</p>
   </blockquote>
   <pre md-src-pos="2846..2948"><code class="language-python" md-src-pos="2846..2948"><span md-src-pos="2846..2856"></span><span md-src-pos="2856..2886"><span style="color: rgb(75, 169, 204);">from</span> unittest <span style="color: rgb(75, 169, 204);">import</span> TestCase</span>
<span md-src-pos="2886..2945"><span style="color: rgb(75, 169, 204);">from</span> utils <span style="color: rgb(75, 169, 204);">import</span> dict_excludes<span style="color: rgb(204, 120, 50);">,</span> dict_sort<span style="color: rgb(204, 120, 50);">,</span> read_json_file</span>
<span md-src-pos="2945..2946"></span><span md-src-pos="2945..2948"></span></code></pre>
   <p md-src-pos="2950..3138"><span md-src-pos="2950..2990">Two of those imports should be familiar,</span> <span md-src-pos="2991..3002">but not the</span> '<span md-src-pos="3004..3018">read_json_file</span>' <span md-src-pos="3020..3027">import.</span> <span md-src-pos="3028..3032">That</span>'<span md-src-pos="3033..3065">s because it does not exist yet.</span> <span md-src-pos="3066..3072">So let</span>'<span md-src-pos="3073..3129">s get that into the utils.py file in the root directory.</span> <span md-src-pos="3130..3138">remember</span></p>
   <blockquote md-src-pos="3140..3240">
    <p md-src-pos="3141..3240"><span md-src-pos="3141..3240">Open utils.py and place the following python code before the other functions but below the imports.</span></p>
   </blockquote>
   <pre md-src-pos="3242..3461"><code class="language-python" md-src-pos="3242..3461"><span md-src-pos="3242..3252"></span><span md-src-pos="3252..3283"><span style="color: rgb(75, 169, 204);">def</span> read_json_file(json_file):</span>
<span md-src-pos="3283..3299">    <span style="color: rgb(75, 169, 204);">import</span> json</span>
<span md-src-pos="3299..3300"></span>
<span md-src-pos="3300..3324">    <span style="color: rgb(240, 241, 240);"># Opening JSON file</span></span>
<span md-src-pos="3324..3356">    <span style="color: rgb(75, 169, 204);">with</span> open(json_file) <span style="color: rgb(75, 169, 204);">as</span> jf:</span>
<span md-src-pos="3356..3389">        <span style="color: rgb(240, 241, 240);"># returns JSON object as</span></span>
<span md-src-pos="3389..3412">        <span style="color: rgb(240, 241, 240);"># a dictionary</span></span>
<span md-src-pos="3412..3441">        data = json.load(jf)</span>
<span md-src-pos="3441..3442"></span>
<span md-src-pos="3442..3458">    <span style="color: rgb(75, 169, 204);">return</span> data</span>
<span md-src-pos="3458..3459"></span><span md-src-pos="3458..3461"></span></code></pre>
   <p md-src-pos="3463..3700"><span md-src-pos="3463..3543">The above function reads a file and loads the data from the file in json format.</span> <span md-src-pos="3544..3607">We could dress this function up more and make sure we cope with</span> <span md-src-pos="3609..3647">data that cannot be formatted to Json,</span> <span md-src-pos="3648..3670">but that is for later.</span> <span md-src-pos="3671..3681">For now we</span>'<span md-src-pos="3682..3700">ll keep it simple.</span></p>
   <p md-src-pos="3702..3775"><span md-src-pos="3702..3705">Ok,</span> <span md-src-pos="3706..3709">let</span>'<span md-src-pos="3710..3775">s get back to our test_utils.py file where we copied the imports.</span></p>
   <p md-src-pos="3777..3951"><span md-src-pos="3777..3808">Notice that the first import is</span> '<span md-src-pos="3810..3818">unittest</span>' <span md-src-pos="3820..3860">and the class from that called TestCase.</span> <span md-src-pos="3861..3945">TestCase is the basic unittest class for testing which allows for the unitests to be</span> <span md-src-pos="3946..3950">run.</span></p>
   <blockquote md-src-pos="3953..4050">
    <p md-src-pos="3954..4050"><span md-src-pos="3954..3982">For a full explanation visit</span> <a href="https://docs.python.org/3/library/unittest.html" md-src-pos="3983..4050">Python Unittests</a></p>
   </blockquote>
   <p md-src-pos="4052..4169"><span md-src-pos="4052..4055">Ok,</span> <span md-src-pos="4056..4090">so now we have our unitests and it</span>'<span md-src-pos="4091..4148">s base class imported we can set up our testing subclass.</span> <span md-src-pos="4149..4151">It</span>'<span md-src-pos="4152..4167">s pretty simple</span>!</p>
   <blockquote md-src-pos="4171..4218">
    <p md-src-pos="4172..4218"><span md-src-pos="4172..4218">Copy the code below to the test_utils.py file.</span></p>
   </blockquote>
   <pre md-src-pos="4220..4255"><code class="language-python" md-src-pos="4220..4255"><span md-src-pos="4220..4230"></span><span md-src-pos="4230..4252"><span style="color: rgb(75, 169, 204);">class</span> Test(TestCase):</span>
<span md-src-pos="4252..4253"></span><span md-src-pos="4252..4255"></span></code></pre>
   <p md-src-pos="4256..4302"><span md-src-pos="4256..4302">As you can see it inherits the class TestCase.</span></p>
   <p md-src-pos="4304..4443"><span md-src-pos="4304..4357">Now we can write or in this case copy our first test.</span> <span md-src-pos="4358..4382">This will be to test our</span> '<span md-src-pos="4384..4397">dict_excludes</span>' <span md-src-pos="4399..4420">function in utils.py.</span> <span md-src-pos="4421..4423">It</span>'<span md-src-pos="4424..4443">s imported already.</span></p>
   <pre md-src-pos="4445..4573"><code class="language-python" md-src-pos="4445..4573"><span md-src-pos="4445..4455"></span><span md-src-pos="4455..4485"><span style="color: rgb(75, 169, 204);">def</span> test_dict_excludes(self):</span>
<span md-src-pos="4485..4533">    result = dict_excludes(test_dict<span style="color: rgb(204, 120, 50);">,</span> excludes)</span>
<span md-src-pos="4533..4570">    <span style="color: rgb(75, 169, 204);">assert</span> excludes_result == result</span>
<span md-src-pos="4570..4571"></span><span md-src-pos="4570..4573"></span></code></pre>
   <p md-src-pos="4574..4867"><span md-src-pos="4574..4591">As can be seen it</span>'<span md-src-pos="4592..4631">s a simple test that calls the function</span> '<span md-src-pos="4633..4646">dict_excludes</span>' <span md-src-pos="4648..4668">with two parameters,</span> <span md-src-pos="4669..4720">a dictionary and a list of keys to be excluded from</span> <span md-src-pos="4721..4776">that dictionary in a newly created returned dictionary,</span> <span md-src-pos="4777..4781">i.e.</span> '<span md-src-pos="4783..4789">result</span>'<span md-src-pos="4790..4791">.</span> <span md-src-pos="4792..4847">We are then comparing the result with a variable called</span> '<span md-src-pos="4849..4864">excludes_result</span>'<span md-src-pos="4865..4866">.</span></p>
   <p md-src-pos="4869..5073"><span md-src-pos="4869..4987">Before we can run the test we need to define the dictionary and our list of excludes and the excludes_result variable.</span> <span md-src-pos="4988..4990">We</span>'<span md-src-pos="4991..5043">ll do this by including the following code above the</span> <span md-src-pos="5045..5073">class but below the imports.</span></p>
   <blockquote md-src-pos="5075..5099">
    <p md-src-pos="5076..5099"><span md-src-pos="5076..5099">Copy the following code</span></p>
   </blockquote>
   <pre md-src-pos="5101..5294"><code class="language-python" md-src-pos="5101..5294"><span md-src-pos="5101..5111"></span><span md-src-pos="5111..5199">test_dict = {<span style="color: rgb(203, 255, 172);">'one'</span>: <span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"five"</span>: <span style="color: rgb(104, 151, 187);">5</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"ten"</span>: <span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"two"</span>: <span style="color: rgb(104, 151, 187);">2</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"fire"</span>: <span style="color: rgb(203, 255, 172);">"fire"</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"bird"</span>:<span style="color: rgb(203, 255, 172);">"Parrot"</span>}</span>
<span md-src-pos="5199..5233">excludes = [<span style="color: rgb(203, 255, 172);">"ten"</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"fire"</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"two"</span>]</span>
<span md-src-pos="5233..5291">excludes_result = {<span style="color: rgb(203, 255, 172);">'one'</span>: <span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"five"</span>: <span style="color: rgb(104, 151, 187);">5</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"bird"</span>: <span style="color: rgb(203, 255, 172);">"Parrot"</span>}</span>
<span md-src-pos="5291..5292"></span><span md-src-pos="5291..5294"></span></code></pre>
   <p md-src-pos="5296..5371"><span md-src-pos="5296..5371">There we have the variables assigned to data structures ready for our test.</span></p>
   <p md-src-pos="5373..5396"><span md-src-pos="5373..5376">Ok,</span> <span md-src-pos="5377..5380">let</span>'<span md-src-pos="5381..5396">s run the test.</span></p>
   <p md-src-pos="5398..5438"><span md-src-pos="5398..5437">There are several ways tests can be run</span>:</p>
   <ol md-src-pos="5440..5625">
    <li md-src-pos="5440..5588">From an IDE, such as Pycharm. You can run the tests directly from the test file itself by just clicking on the green play icon, next to the test.</li>
    <li md-src-pos="5589..5625">from the command line as follows:</li>
   </ol>
   <pre md-src-pos="5627..5668"><code class="language-bash" md-src-pos="5627..5668"><span md-src-pos="5627..5636"></span><span md-src-pos="5636..5664"> python -m unittest discover</span>
<span md-src-pos="5665..5665"></span><span md-src-pos="5665..5668"></span></code></pre>
   <p md-src-pos="5669..5748"><span md-src-pos="5669..5748">Make sure you are in the project root directory when you run this command line.</span></p>
   <blockquote md-src-pos="5750..5849">
    <p md-src-pos="5751..5849"><span md-src-pos="5751..5804">Try it out and run the test now and see what happens.</span> <span md-src-pos="5805..5832">It should report 1 Test run</span> <span md-src-pos="5833..5834">-</span> <span md-src-pos="5835..5849">OK or similar.</span></p>
   </blockquote>
   <p md-src-pos="5851..5923"><span md-src-pos="5851..5923">If it fails check that you have copied the code correctly and try again.</span></p>
   <p md-src-pos="5925..5988"><span md-src-pos="5925..5932">Now let</span>'<span md-src-pos="5933..5988">s quickly copy the other two tests for this test batch.</span></p>
   <pre md-src-pos="5990..6438"><code class="language-python" md-src-pos="5990..6438"><span md-src-pos="5990..6000"></span><span md-src-pos="6000..6036"><span style="color: rgb(75, 169, 204);">def</span> test_dict_sort_ascending(self):</span>
<span md-src-pos="6036..6097">    data = read_json_file(<span style="color: rgb(203, 255, 172);">'starwars-backup-data/films.json'</span>)</span>
<span md-src-pos="6097..6164">    data_sorted = dict_sort(data[<span style="color: rgb(203, 255, 172);">'results'</span>]<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"title"</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"ascending"</span>)</span>
<span md-src-pos="6164..6215">    <span style="color: rgb(75, 169, 204);">assert</span> data_sorted[<span style="color: rgb(104, 151, 187);">0</span>][<span style="color: rgb(203, 255, 172);">'title'</span>] == <span style="color: rgb(203, 255, 172);">'A New Hope'</span></span>
<span md-src-pos="6215..6216"></span>
<span md-src-pos="6216..6253"><span style="color: rgb(75, 169, 204);">def</span> test_dict_sort_descending(self):</span>
<span md-src-pos="6253..6314">    data = read_json_file(<span style="color: rgb(203, 255, 172);">'starwars-backup-data/films.json'</span>)</span>
<span md-src-pos="6314..6376">    data_sorted = dict_sort(data[<span style="color: rgb(203, 255, 172);">'results'</span>]<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"title"</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">"desc"</span>)</span>
<span md-src-pos="6376..6435">    <span style="color: rgb(75, 169, 204);">assert</span> data_sorted[<span style="color: rgb(104, 151, 187);">0</span>][<span style="color: rgb(203, 255, 172);">'title'</span>] == <span style="color: rgb(203, 255, 172);">'The Phantom Menace'</span></span>
<span md-src-pos="6435..6436"></span><span md-src-pos="6435..6438"></span></code></pre>
   <p md-src-pos="6440..6771"><span md-src-pos="6440..6490">The above tests test the dictionary sort function,</span> <span md-src-pos="6491..6537">which takes Json data from a file in this case</span> '<span md-src-pos="6539..6570">starwars-backup-data/films.json</span>' <span md-src-pos="6572..6575">and</span> <span md-src-pos="6577..6637">passes the results list of that data as the first parameter,</span> <span md-src-pos="6638..6694">followed by the string we wish to sort by and the order.</span> <span md-src-pos="6695..6722">There is a test for sorting</span> <span md-src-pos="6723..6771">in ascending order and one for descending order.</span></p>
   <blockquote md-src-pos="6773..6869">
    <p md-src-pos="6774..6869"><span md-src-pos="6774..6869">Copy those tests and place them in your test class below the last test and run the tests again.</span></p>
   </blockquote>
   <p md-src-pos="6871..6924"><span md-src-pos="6871..6924">We have created our first unittests for this project.</span></p>
   <h3 md-src-pos="6926..6939">Exercise:</h3>
   <blockquote md-src-pos="6941..7065">
    <p md-src-pos="6942..7065"><span md-src-pos="6942..7002">There was one function we did not test in the utils.py file.</span> <span md-src-pos="7003..7006">The</span> '<span md-src-pos="7008..7022">options_filter</span>' <span md-src-pos="7024..7033">function.</span> <span md-src-pos="7034..7065">Write a test for that function.</span></p>
   </blockquote>
   <p md-src-pos="7067..7143"><span md-src-pos="7067..7142">Once you have completed that function here are some more tests to implement</span>:</p>
   <h3 md-src-pos="7145..7186">Testing the starwars.py API requests:</h3>
   <p md-src-pos="7188..7281"><span md-src-pos="7188..7241">Copy the following code to the test_starwars.py file,</span> <span md-src-pos="7242..7281">study what they are doing and run them.</span></p>
   <pre md-src-pos="7283..8146"><code class="language-python" md-src-pos="7283..8146"><span md-src-pos="7281..7291"></span><span md-src-pos="7291..7321"><span style="color: rgb(75, 169, 204);">from</span> unittest <span style="color: rgb(75, 169, 204);">import</span> TestCase</span>
<span md-src-pos="7321..7351"><span style="color: rgb(75, 169, 204);">from</span> starwars <span style="color: rgb(75, 169, 204);">import</span> StarWars</span>
<span md-src-pos="7351..7384"><span style="color: rgb(75, 169, 204);">from</span> utils <span style="color: rgb(75, 169, 204);">import</span> read_json_file</span>
<span md-src-pos="7384..7385"></span>
<span md-src-pos="7385..7386"></span>
<span md-src-pos="7386..7416"><span style="color: rgb(75, 169, 204);">class</span> TestStarWars(TestCase):</span>
<span md-src-pos="7416..7424">    """</span>
<span md-src-pos="7424..7530">        Tests the two main Starwars api request types, the async one with and without batch and max sizes</span>
<span md-src-pos="7530..7538">    """</span>
<span md-src-pos="7538..7576">    <span style="color: rgb(75, 169, 204);">def</span> test_request_data_sync(self):</span>
<span md-src-pos="7576..7606">        starwars = StarWars()</span>
<span md-src-pos="7606..7652">        starwars.request_data_sync(<span style="color: rgb(203, 255, 172);">'films/1'</span>)</span>
<span md-src-pos="7652..7712">        <span style="color: rgb(75, 169, 204);">assert</span> starwars.swars_data[<span style="color: rgb(203, 255, 172);">'title'</span>] == <span style="color: rgb(203, 255, 172);">"A New Hope"</span></span>
<span md-src-pos="7712..7713"></span>
<span md-src-pos="7713..7752">    <span style="color: rgb(75, 169, 204);">def</span> test_request_data_async(self):</span>
<span md-src-pos="7752..7782">        starwars = StarWars()</span>
<span md-src-pos="7782..7827">        starwars.request_data_async(<span style="color: rgb(203, 255, 172);">'films'</span>)</span>
<span md-src-pos="7827..7899">        control_set = read_json_file(<span style="color: rgb(203, 255, 172);">'starwars-backup-data/films.json'</span>)</span>
<span md-src-pos="7899..7960">        <span style="color: rgb(75, 169, 204);">assert</span> starwars.swars_data == control_set[<span style="color: rgb(203, 255, 172);">'results'</span>]</span>
<span md-src-pos="7960..7961"></span>
<span md-src-pos="7961..8010">    <span style="color: rgb(75, 169, 204);">def</span> test_request_data_async_batch_max(self):</span>
<span md-src-pos="8010..8040">        starwars = StarWars()</span>
<span md-src-pos="8040..8094">        starwars.request_data_async(<span style="color: rgb(203, 255, 172);">'people'</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">10</span><span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(104, 151, 187);">10</span>)</span>
<span md-src-pos="8094..8140">        <span style="color: rgb(75, 169, 204);">assert</span> len(starwars.swars_data) == <span style="color: rgb(104, 151, 187);">10</span></span>
<span md-src-pos="8140..8141"></span>
<span md-src-pos="8141..8142"></span><span md-src-pos="8141..8144"></span></code></pre>
   <h3 md-src-pos="8148..8184">Testing the Authorisation Module</h3>
   <p md-src-pos="8186..8224"><span md-src-pos="8186..8223">There are three test files under auth</span>:</p>
   <ol md-src-pos="8226..8279">
    <li md-src-pos="8226..8241">test_core.py</li>
    <li md-src-pos="8242..8262">test_endpoints.py</li>
    <li md-src-pos="8263..8279">test_utils.py</li>
   </ol>
   <p md-src-pos="8281..8348"><span md-src-pos="8281..8347">The contain the following tests for testing our Authorization code</span>:</p>
   <h4 md-src-pos="8350..8367">test_core.py</h4>
   <pre md-src-pos="8369..9888"><code class="language-python" md-src-pos="8369..9888"><span md-src-pos="8365..8375"></span><span md-src-pos="8375..8405"><span style="color: rgb(75, 169, 204);">from</span> unittest <span style="color: rgb(75, 169, 204);">import</span> TestCase</span>
<span md-src-pos="8405..8487"><span style="color: rgb(75, 169, 204);">from</span> auth.core <span style="color: rgb(75, 169, 204);">import</span> generate_jwt<span style="color: rgb(204, 120, 50);">,</span> decode_auth_token<span style="color: rgb(204, 120, 50);">,</span> verify_payload<span style="color: rgb(204, 120, 50);">,</span> permission</span>
<span md-src-pos="8487..8569"><span style="color: rgb(75, 169, 204);">from</span> config.v1.app_config <span style="color: rgb(75, 169, 204);">import</span> JWT_SECRET<span style="color: rgb(204, 120, 50);">,</span> JWT_REFRESH_SECRET<span style="color: rgb(204, 120, 50);">,</span> JWT_EMAIL_SECRET</span>
<span md-src-pos="8569..8570"></span>
<span md-src-pos="8570..8571"></span>
<span md-src-pos="8571..8593"><span style="color: rgb(75, 169, 204);">class</span> Test(TestCase):</span>
<span md-src-pos="8593..8594"></span>
<span md-src-pos="8594..8636">    <span style="color: rgb(75, 169, 204);">def</span> test_generate_jwt_standard(self):</span>
<span md-src-pos="8636..8737">        token = generate_jwt(user_id=<span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> access_role=<span style="color: rgb(203, 255, 172);">'basic'</span><span style="color: rgb(204, 120, 50);">,</span> payload_claim={<span style="color: rgb(203, 255, 172);">'standard_claim'</span>: <span style="color: rgb(75, 169, 204);">True</span>})</span>
<span md-src-pos="8737..8792">        payload = decode_auth_token(token<span style="color: rgb(204, 120, 50);">,</span> JWT_SECRET)</span>
<span md-src-pos="8792..8869">        <span style="color: rgb(75, 169, 204);">assert</span> payload[<span style="color: rgb(203, 255, 172);">'user_id'</span>] == <span style="color: rgb(104, 151, 187);">1</span> <span style="color: rgb(75, 169, 204);">and</span> payload[<span style="color: rgb(203, 255, 172);">'access_role'</span>] == <span style="color: rgb(203, 255, 172);">'basic'</span></span>
<span md-src-pos="8869..8917">        <span style="color: rgb(75, 169, 204);">assert</span> verify_payload(payload<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">'basic'</span>)</span>
<span md-src-pos="8917..8918"></span>
<span md-src-pos="8918..8959">    <span style="color: rgb(75, 169, 204);">def</span> test_generate_jwt_refresh(self):</span>
<span md-src-pos="8959..9059">        token = generate_jwt(user_id=<span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> access_role=<span style="color: rgb(203, 255, 172);">'basic'</span><span style="color: rgb(204, 120, 50);">,</span> payload_claim={<span style="color: rgb(203, 255, 172);">'refresh_claim'</span>: <span style="color: rgb(75, 169, 204);">True</span>})</span>
<span md-src-pos="9059..9122">        payload = decode_auth_token(token<span style="color: rgb(204, 120, 50);">,</span> JWT_REFRESH_SECRET)</span>
<span md-src-pos="9122..9199">        <span style="color: rgb(75, 169, 204);">assert</span> payload[<span style="color: rgb(203, 255, 172);">'user_id'</span>] == <span style="color: rgb(104, 151, 187);">1</span> <span style="color: rgb(75, 169, 204);">and</span> payload[<span style="color: rgb(203, 255, 172);">'access_role'</span>] == <span style="color: rgb(203, 255, 172);">'basic'</span></span>
<span md-src-pos="9199..9247">        <span style="color: rgb(75, 169, 204);">assert</span> verify_payload(payload<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">'basic'</span>)</span>
<span md-src-pos="9247..9248"></span>
<span md-src-pos="9248..9287">    <span style="color: rgb(75, 169, 204);">def</span> test_generate_jwt_email(self):</span>
<span md-src-pos="9287..9385">        token = generate_jwt(user_id=<span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> access_role=<span style="color: rgb(203, 255, 172);">'basic'</span><span style="color: rgb(204, 120, 50);">,</span> payload_claim={<span style="color: rgb(203, 255, 172);">'email_claim'</span>: <span style="color: rgb(75, 169, 204);">True</span>})</span>
<span md-src-pos="9385..9446">        payload = decode_auth_token(token<span style="color: rgb(204, 120, 50);">,</span> JWT_EMAIL_SECRET)</span>
<span md-src-pos="9446..9523">        <span style="color: rgb(75, 169, 204);">assert</span> payload[<span style="color: rgb(203, 255, 172);">'user_id'</span>] == <span style="color: rgb(104, 151, 187);">1</span> <span style="color: rgb(75, 169, 204);">and</span> payload[<span style="color: rgb(203, 255, 172);">'access_role'</span>] == <span style="color: rgb(203, 255, 172);">'basic'</span></span>
<span md-src-pos="9523..9571">        <span style="color: rgb(75, 169, 204);">assert</span> verify_payload(payload<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">'basic'</span>)</span>
<span md-src-pos="9571..9572"></span>
<span md-src-pos="9572..9603">    <span style="color: rgb(75, 169, 204);">def</span> test_pemissions(self):</span>
<span md-src-pos="9603..9704">        token = generate_jwt(user_id=<span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> access_role=<span style="color: rgb(203, 255, 172);">'basic'</span><span style="color: rgb(204, 120, 50);">,</span> payload_claim={<span style="color: rgb(203, 255, 172);">'standard_claim'</span>: <span style="color: rgb(75, 169, 204);">True</span>})</span>
<span md-src-pos="9704..9759">        payload = decode_auth_token(token<span style="color: rgb(204, 120, 50);">,</span> JWT_SECRET)</span>
<span md-src-pos="9759..9836">        <span style="color: rgb(75, 169, 204);">assert</span> payload[<span style="color: rgb(203, 255, 172);">'user_id'</span>] == <span style="color: rgb(104, 151, 187);">1</span> <span style="color: rgb(75, 169, 204);">and</span> payload[<span style="color: rgb(203, 255, 172);">'access_role'</span>] == <span style="color: rgb(203, 255, 172);">'basic'</span></span>
<span md-src-pos="9836..9880">        <span style="color: rgb(75, 169, 204);">assert</span> permission(payload<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(203, 255, 172);">'basic'</span>)</span>
<span md-src-pos="9880..9881"></span>
<span md-src-pos="9881..9882"></span><span md-src-pos="9881..9884"></span></code></pre>
   <h4 md-src-pos="9890..9911">test_enpoints.py</h4>
   <pre md-src-pos="9913..10549"><code class="language-python" md-src-pos="9913..10549"><span md-src-pos="9908..9918"></span><span md-src-pos="9918..9948"><span style="color: rgb(75, 169, 204);">from</span> unittest <span style="color: rgb(75, 169, 204);">import</span> TestCase</span>
<span md-src-pos="9948..9983"><span style="color: rgb(75, 169, 204);">from</span> auth.core <span style="color: rgb(75, 169, 204);">import</span> generate_jwt</span>
<span md-src-pos="9983..10045"><span style="color: rgb(75, 169, 204);">from</span> auth.endpoints <span style="color: rgb(75, 169, 204);">import</span> decode_token<span style="color: rgb(204, 120, 50);">,</span> decode_refresh_token</span>
<span md-src-pos="10045..10046"></span>
<span md-src-pos="10046..10047"></span>
<span md-src-pos="10047..10069"><span style="color: rgb(75, 169, 204);">class</span> Test(TestCase):</span>
<span md-src-pos="10069..10070"></span>
<span md-src-pos="10070..10103">    <span style="color: rgb(75, 169, 204);">def</span> test_decode_token(self):</span>
<span md-src-pos="10103..10204">        token = generate_jwt(user_id=<span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> access_role=<span style="color: rgb(203, 255, 172);">'basic'</span><span style="color: rgb(204, 120, 50);">,</span> payload_claim={<span style="color: rgb(203, 255, 172);">'standard_claim'</span>: <span style="color: rgb(75, 169, 204);">True</span>})</span>
<span md-src-pos="10204..10242">        payload = decode_token(token)</span>
<span md-src-pos="10242..10297">        self.assertIs(isinstance(payload<span style="color: rgb(204, 120, 50);">,</span> dict)<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(75, 169, 204);">True</span>)</span>
<span md-src-pos="10297..10298"></span>
<span md-src-pos="10298..10339">    <span style="color: rgb(75, 169, 204);">def</span> test_decode_refresh_token(self):</span>
<span md-src-pos="10339..10439">        token = generate_jwt(user_id=<span style="color: rgb(104, 151, 187);">1</span><span style="color: rgb(204, 120, 50);">,</span> access_role=<span style="color: rgb(203, 255, 172);">'basic'</span><span style="color: rgb(204, 120, 50);">,</span> payload_claim={<span style="color: rgb(203, 255, 172);">'refresh_claim'</span>: <span style="color: rgb(75, 169, 204);">True</span>})</span>
<span md-src-pos="10439..10485">        payload = decode_refresh_token(token)</span>
<span md-src-pos="10485..10540">        self.assertIs(isinstance(payload<span style="color: rgb(204, 120, 50);">,</span> dict)<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(75, 169, 204);">True</span>)</span>
<span md-src-pos="10540..10541"></span>
<span md-src-pos="10541..10542"></span><span md-src-pos="10541..10544"></span></code></pre>
   <h4 md-src-pos="10551..10570">test_utils.py</h4>
   <pre md-src-pos="10572..11037"><code class="language-python" md-src-pos="10572..11037"><span md-src-pos="10566..10576"></span><span md-src-pos="10576..10606"><span style="color: rgb(75, 169, 204);">from</span> unittest <span style="color: rgb(75, 169, 204);">import</span> TestCase</span>
<span md-src-pos="10606..10607"></span>
<span md-src-pos="10607..10660"><span style="color: rgb(75, 169, 204);">from</span> auth.utils <span style="color: rgb(75, 169, 204);">import</span> prep_password<span style="color: rgb(204, 120, 50);">,</span> check_password</span>
<span md-src-pos="10660..10661"></span>
<span md-src-pos="10661..10662"></span>
<span md-src-pos="10662..10684"><span style="color: rgb(75, 169, 204);">class</span> Test(TestCase):</span>
<span md-src-pos="10684..10685"></span>
<span md-src-pos="10685..10722">    <span style="color: rgb(75, 169, 204);">def</span> test_password_correct(self):</span>
<span md-src-pos="10722..10766">        pwd = prep_password(<span style="color: rgb(203, 255, 172);">"00Apassword7"</span>)</span>
<span md-src-pos="10766..10819">        result = check_password(<span style="color: rgb(203, 255, 172);">"00Apassword7"</span><span style="color: rgb(204, 120, 50);">,</span> pwd)</span>
<span md-src-pos="10819..10855">        self.assertIs(result<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(75, 169, 204);">True</span>)</span>
<span md-src-pos="10855..10856"></span>
<span md-src-pos="10856..10895">    <span style="color: rgb(75, 169, 204);">def</span> test_password_incorrect(self):</span>
<span md-src-pos="10895..10939">        pwd = prep_password(<span style="color: rgb(203, 255, 172);">"00Apassword7"</span>)</span>
<span md-src-pos="10939..10991">        result = check_password(<span style="color: rgb(203, 255, 172);">"00Apassword"</span><span style="color: rgb(204, 120, 50);">,</span> pwd)</span>
<span md-src-pos="10991..11028">        self.assertIs(result<span style="color: rgb(204, 120, 50);">,</span> <span style="color: rgb(75, 169, 204);">False</span>)</span>
<span md-src-pos="11028..11029"></span><span md-src-pos="11028..11031"></span></code></pre>
   <blockquote md-src-pos="11039..11158">
    <p md-src-pos="11040..11158"><span md-src-pos="11040..11128">Copy all the tests to the appropriate files and study each test and what its purpose is.</span> <span md-src-pos="11129..11158">Then run all the tests again.</span></p>
   </blockquote>
   <h2 md-src-pos="11160..11256">That's it! Conrgatulations you have succesfully completed building your Star Wars backend API</h2>
   <h3 md-src-pos="11257..11322">Give yourself a pat on the back and may the force be with you.</h3>
  </div>
 </body>
</html>
